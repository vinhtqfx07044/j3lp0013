<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title th:text="${post != null ? post.title : 'Post Not Found'}"></title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
    <div th:replace="~{fragments/header :: header(activePage='blog')}"></div>

    <div class="page-layout">
        <main class="main-content">
            <div th:if="${post == null}" class="no-data">
                The post you are looking for does not exist.
            </div>

            <article th:if="${post != null}" class="post dotted-border">
                <img th:src="@{'/images/' + ${post.type} + '.png'}" class="post-icon" th:alt="${post.type}">
                <div class="post-body">
                    <header class="post-header">
                        <h3 class="post-title" th:text="${post.title}"></h3>
                        <div class="post-date" th:text="${#temporals.format(post.createdAt, 'dd-MM-yyyy')}"></div>
                    </header>
                    <div class="post-content">
                        <th:block th:switch="${post.type}">
                            <div th:case="'photo'">
                                <img class="post-image" th:src="@{'/images/' + ${post.imagePath}}" alt="post photo">
                            </div>
                            <div th:case="'quote'" class="quote">
                                <q class="quote-text" th:utext="${post.quoteText}"></q>
                                <p class="quote-author" th:if="${post.quoteAuthor != null}"
                                    th:text="${post.quoteAuthor} + ' -'"></p>
                            </div>
                            <div th:case="*">
                                <a th:if="${post.imagePath != null and !post.imagePath.isEmpty()}"
                                    class="post-content-image-link" th:href="@{/post/{id}(id=${post.id})}">
                                    <img class="post-image" th:src="@{'/images/' + ${post.imagePath}}" alt="post photo">
                                </a>
                                <p th:utext="${post.content}"></p>
                            </div>
                        </th:block>
                    </div>
                </div>
            </article>

            <a class="overview-link" th:href="@{/overview}">Overview</a>
        </main>

        <div th:replace="~{fragments/side-banner :: side-banner}"></div>
    </div>

    <div th:replace="~{fragments/footer :: footer}"></div>
</body>

</html>