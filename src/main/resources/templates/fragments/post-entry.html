<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<body>
    <div th:fragment="post-entry(post)" class="row home-post dotted-border" th:if="${post != null}">
        <img th:src="@{'/images/' + ${post.type} + '.png'}" alt="type icon">
        <div class="post post-base">
            <div class="post-title post-title-base">
                <a class="post-title-link" th:href="@{/post/{id}(id=${post.id})}" th:text="${post.title}">Post Title</a>
                <div class="post-date post-date-base" th:text="${#temporals.format(post.createdAt, 'dd-MM-yyyy')}">16-11-2015</div>
            </div>
            <div class="post-content post-content-base">
                <th:block th:switch="${post.type}">
                    <!-- Case for 'photo' type -->
                    <a th:case="'photo'" th:href="@{/post/{id}(id=${post.id})}" class="photo-post-link">
                        <img class="post-image" th:src="@{'/images/' + ${post.imagePath}}" alt="post photo">
                    </a>

                    <!-- Case for 'quote' type -->
                    <div th:case="'quote'" class="quote">
                        <!-- The quote content is pre-processed in the PostMapper -->
                        <q class="quote-content" th:utext="${post.quoteContent}">The quote itself...</q>
                        <p class="quote-author" th:text="${post.quoteAuthor} + ' —'">William W. Purkey —</p>
                    </div>

                    <!-- Default case (for 'blog' type) -->
                    <div th:case="*">
                        <a class="post-content-link" th:href="@{/post/{id}(id=${post.id})}">
                            <img class="post-image" th:src="@{'/images/' + ${post.imagePath}}" alt="post photo">
                        </a>
                        <p th:utext="${post.content}">Blog post content...</p>
                    </div>
                </th:block>
            </div>
        </div>
    </div>

    <div th:fragment="post-detail(post)" class="row detail-post" th:if="${post != null}">
        <img th:src="@{'/images/' + ${post.type} + '.png'}" alt="type icon">
        <div class="post post-base">
            <div class="post-title post-title-base">
                <a class="post-title-link" th:href="@{/post/{id}(id=${post.id})}" th:text="${post.title}">Post Title</a>
                <div class="post-date post-date-base" th:text="${#temporals.format(post.createdAt, 'dd-MM-yyyy')}">16-11-2015</div>
            </div>
            <div class="post-content post-content-base dotted-border">
                <th:block th:switch="${post.type}">
                    <!-- Case for 'photo' type -->
                    <a th:case="'photo'" th:href="@{/post/{id}(id=${post.id})}" class="photo-post-detail">
                        <img class="post-image" th:src="@{'/images/' + ${post.imagePath}}" alt="post photo">
                    </a>

                    <!-- Case for 'quote' type -->
                    <div th:case="'quote'" class="quote">
                        <!-- The quote content is pre-processed in the PostMapper -->
                        <q class="quote-content" th:utext="${post.quoteContent}">The quote itself...</q>
                        <p class="quote-author" th:text="${post.quoteAuthor} + ' —'">William W. Purkey —</p>
                    </div>

                    <!-- Default case (for 'blog' type) -->
                    <div th:case="*">
                        <a class="post-content-link" th:href="@{/post/{id}(id=${post.id})}">
                            <img class="post-image" th:src="@{'/images/' + ${post.imagePath}}" alt="post photo">
                        </a>
                        <p th:utext="${post.content}">Blog post content...</p>
                    </div>
                </th:block>
            </div>
        </div>
    </div>
</body>

</html>